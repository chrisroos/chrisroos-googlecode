<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <!--#include virtual="/includes/_head.html"-->
    <title>Tagging my del.icio.us bookmarks with the domain of the URL that I'm bookmarking - deferred until inspiration hits</title>
  </head>

  <body>
    
    <div id="doc3" class="yui-t4">
      <div id="hd">
        <div class="header">
          <!--#include virtual="/includes/_header.html"-->
        </div>
        <div class="navigation">
          
            <span class="previousPost">
              &larr; (older)
              <a class="previousPost" href="/articles/2008-02-18-what-ive-been-up-to-projects-and-ideas" title="What I've been up to - Projects and Ideas">
                
                What I've been up to - Projects and Ideas
              </a> 
            </span>
          
          
            <span class="nextPost">
              <a class="nextPost" href="/articles/2008-02-28-national-rail-train-times-by-sms-again" title="National Rail Train Times by SMS (again)">
                
                National Rail Train Times by SMS (again)
              </a> (newer) &rarr;
            </span>
          
        </div>
      </div>
      <div id="bd">
        <div id="yui-main">
          <div class="yui-b">
            <div class="yui-g">
              
              <h1>Tagging my del.icio.us bookmarks with the domain of the URL that I'm bookmarking</h1>
            
              <p class="postedOn">
                Posted by Chris Roos
                <span title="Tue, 26 Feb 2008 08:49:00">
                  Tue, 26 Feb 2008 08:49:00
                </span>
              </p>
          
              <p>I&#8217;ve created another <a href="http://www.mozilla.com/firefox">firefox</a> extension that builds on the <a href="http://del.icio.us">del.icio.us</a> <a href="https://addons.mozilla.org/en-US/firefox/addon/3615">extension</a>.  This one finds the domain of the <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Locator"><span class="caps">URL</span></a> you&#8217;re bookmarking and adds it as a tag to your bookmark.  It&#8217;s basically just a copy of my <a href="http://blog.seagul.co.uk/articles/2007/12/18/extracting-my-del-icio-us-permalinks-functionality-into-its-own-firefox-extension">del.icio.us permalinks extension</a></p>


	<p>To install this extension head over to the <a href="http://groups.google.com/group/delicious-domain-tags">delicious domain tags google group</a> and visit the installation page (I don&#8217;t seem to be able to link directly to it for some reason).</p>


	<p>I came across an interesting problem when trying to get both this and the del.icio.us permalinks extension working together.  Both of the extensions modify the onload attribute of the add bookmark dialog.  When I only had the del.icio.us permalinks extension I was hardcoding the onload attribute to call my function (deliciousPermalinks.addPermalinkTag()) and the original function (yAddBookMark.init()).  This approach fell down as soon as I had two extensions trying to modify the onload attribute: I didn&#8217;t know which extension would be loaded first and therefore one was always overwriting the other.  I&#8217;m sure there&#8217;s a nice way to do this but I hacked together a noddy initialisation script that finds the existing value of the onload attribute and adds to it with the relevant function.</p>


<div class="typocode"><pre><code class="typocode_default">var yAddBookmarkDialog = document.getElementById('dlg_AddYBookMark');
var yAddBookmarkOnload = yAddBookmarkDialog.getAttribute('onload');
var onload = 'deliciousPermalinks.addPermalinkTag()';
yAddBookmarkDialog.setAttribute('onload', [yAddBookmarkOnload, onload].join(';'))</code></pre></div>

	<p>I reference this script in my <a href="http://en.wikipedia.org/wiki/XUL">xul</a> file which causes it to be evaluated at (I guess) browser start time and the onload event to be modified correctly.</p>


	<p>I&#8217;ve updated the del.icio.us permalinks extension too but I think you&#8217;ll need to remove and re-add it again from the <a href="http://groups.google.com/group/delicious-permalinks/files">installation page</a>.</p>
        
              <div id="disqus_thread"></div>
              <script type="text/javascript" src="http://disqus.com/forums/deferred-until-inspiration-hits/embed.js"></script>
              <noscript>
                <p><a href="http://deferred-until-inspiration-hits.disqus.com/?url=ref">View the forum thread.</a></p>
              </noscript>

              
              
              

            </div>
          </div>
        </div>
        <div class="yui-b">
          <!--#include virtual="/includes/_navigation.html"-->
        </div>
      </div>
    </div>
    <div id="ft">
      <!-- Footer -->
    </div>
    
    <!--#include virtual="/includes/_twitter.html" -->
    <!--#include virtual="/includes/_delicious.html" -->
    <!--#include virtual="/includes/_google_analytics.html" -->
  </body>

</html>
